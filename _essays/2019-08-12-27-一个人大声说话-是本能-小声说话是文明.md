---
layout: post
title: '27. 一个人大声说话，是本能；小声说话是文明。'
date: '2019-08-12 12:37:16 +0800'
categories: ''
tags: ''
---

注：因为微信公众号平台只能上传30分钟内的音频文件，所以上面是从时长为9个小时的音频中截取的30分钟版本。



注：提示一下，文章中会出现CPU，OS，时间片，中断等字样，屏幕面前的你不必在意。



在距今约9000-7800年的新石器时代的位于河南贾湖村的贾湖遗址中，出土了一批具有七音阶的骨笛。至于古人后来为什么把七音阶演化成五音阶，即宫、商、角、徴（zhǐ）、羽，就不得而知了。



人类和猪一样，也是需要音乐陶冶的。简简单单的七个音节，再加上各种管乐器、弦乐器、打击乐器等，就可以组合出各种沁人心脾的美妙音符。



我们常常听到的有关电脑的双核，四核什么的，是指计算机硬件中的一个核心部件，英文名叫CPU，中文名叫中央处理器。CPU的功能往简单处讲是极其简单的，也就是做二进制的加法计算。这种极简单的工作，几乎任何心智正常的人类都可以做。但是，人类和机器的区别就在于，机器可以无意识地完成高频的重复工作，而人类对这些简单的重复是很容易产生负面情绪的。



一个CPU核心同时只能计算一个任务，比如播放音乐或者写PPT。如果是双核，则可以同时听歌和写PPT。但是有时候，我们在听着歌，写着PPT的时候也会收到邮件提醒，很明显，双核也是解决不了这个问题的。但是，计算机是如何利用有限的CPU核心，让我们一边写PPT，一边听歌的呢？这就是计算机操作系统（英文名称叫OS）的分时任务调度机制，比如常见的时间片轮转算法。顺便提一句，常见的OS有Unix，BSD，Linux，Windows，macOS，iOS，Android，以及最近新兴的炒得沸沸扬扬的HarmonyOS?



关于时间片轮转算法，这里举例说明一下。比如操作系统分配给音乐播放软件10毫秒的时间，时间一过，再给PPT分配10毫秒的时间，如此往复，……这个过程中的10毫秒对于愚蠢的人类而言是几乎无感知的，所以我们直觉感受是电脑可以同时做很多事情，比如你可以听歌的同时，一边写着PPT，一边去互联网冲浪，也就是上网，或者一边摸鱼，一边放羊。



时间片轮转算法在做多任务的时间分配时，即加载下一个任务时，会导致当前的任务中断。但是在加载下一个任务前，需要保存当前任务的现场，比如我们听一首歌，要记录当前播放的时间点，而不是等听歌任务被再次调度的时候又从头播放，你说到时候是不是很崩溃？而下一个任务的加载，需要有一个现场恢复的过程，这是需要时间的。这个切换的过程，在计算机中叫上下文切换。



关于上下文切换，举个现实中搬砖的例子。比如你正在烈日下努力地搬着滚汤的砖头，突然工头找你，你放下手中的砖头，拍打一下满身的尘土，去见工头。在和工头一番尬聊之后，你想到那些砖块还在等你，所以你又要回去加班搬砖。在你去找工头一番尬聊到回到工地继续搬砖期间，你的砖块还停留在原地，以至于耽误了砌砖工的工作，最终延误了工程的工期。你自度失期当死，于是对工友们高喊：“今亡亦死，举大义亦死，等死，死国可乎？”



但是，在上述的时间片中分配的10毫秒期间，你可能还会被打断，这种情况在计算机系统中被称为抢占。比如你正在全神贯注地写着PPT报告，突然听到手机响了起来，在你的手旁疯狂地抽动，这个时候你有两个选择，一个是红钮，一个是绿钮。假如你看到来电显示是工头打来的，你不得已放下手中的工作，选择按下绿钮，接听电话。但是你看到来电显示是莆田的未知号码，你选择了红钮，拒绝了接听，继续写着报告。但无论如何，你还是分出了时间和精力去处理电话信号。其实你还有一个更霸道的选择，让手机处于静音模式或者直接关机，因为你认为当前出报告的任务的优先级最高，不能被这种小事情打扰。



但是，你在听着歌，全神贯注地写着PPT时，有个沙雕不管你聚精会神的样子，然后拍了拍你的肩膀，并向你说：“小雨啊，这个报告啥时候可以写完呀？” 然后你一边听歌，一边继续写PPT的同时，又分出一部时间和沙雕尬聊。沙雕最后说了一句：“我先走了。”而你依然还在加着班，听着歌，并在百忙之中，拿起手机给自己订了一份外卖，然后继续埋头写PPT，出报告。



对于你订的外卖，你可以时不时的去看一看订单的状态，比如送达时间，外卖小哥哥或小姐姐距离你还有多远，这种方式在计算机中称为轮询。你还有另外一种处理方式，那就是等待小哥哥的电话信号，这种方式叫做中断。在预估的时间点，听到了手机的悦耳的铃声，你拿起手机，按下绿钮，听到有人说：“你好，你的外卖，我现在已经到40楼了，客梯，……”你打开了外卖包装袋，发现便当盒里的面又长又宽，就像便当盒一样又大又圆。一顿胡吃海塞之后，你那圆润丰满的小肚腩无意识地发出了超满足感的声响……, skr~



关于系统中断，再举一个搬砖的例子。当你正在苦苦地把沉重的砖块缓缓搬离地面，刚刚走上两三步时，你听到旁边的两个工友突然很大声地嚷嚷起来。你拖着疲惫的步伐，望着身旁的两个沙雕工友，一时间忘记了手中的砖块。砖块按着牛顿老爵爷发现的万有引力定律，做自由落体运动，砸向了自己的双脚。你发觉了极度异常的疼痛，也看到了刚刚被挪动三四步，散落一地的砖块。虽然平时的你是一人吃饱，全家不饿，但是为了使全家人能够吃饱饭，你只好毅然决然地忍着眼泪。然后努力拉伸着老残的竖直肌群，弯下突出的腰间盘，默默地把掉落的砖块一块块重新整理，然后抵抗着地球的强大引力，再一次将码好的砖头块奋力地搬离地面，然后仰天长叹：“天下苦搬砖久矣”。



以上提到的计算机操作系统的作业调度策略，再辅以现实中搬砖和订外卖的例子，就是为了说明人类大脑的任务调度，也有类似OS的调度策略。现代CPU的主频一般在3GHz左右，我们可以简单的理解为单颗CPU核心可以每秒钟运算3,000,000,000次，但这有时候也是不够看的，所以才会引入多核处理器，多处理器，以及如超算一样的分布式计算集群。这些计算机能力的提升都是有很大的代价的，在现实生活中，我们可以理解为招募更多的人手做事情。个人的做事能力和单处理器运算能力一样，是有限的，再加上过多任务而引起的上下文切换的损耗，都在影响的作业任务吞吐率。在这种高压力的情况下，一般的人类就会很容易直接负能量暴涨，然后爆炸，直至精神崩溃。



相比于机器而言，愚蠢的人类更是难以做到三心二意的，所以在时间紧，任务重，任务繁杂的时候，我们就要对这些任务做好合理的轻重缓急的分级，并且还要具有很好的防打扰能力。在日常工作中，特别是通讯，最忌讳的是即时通讯，比如鹅厂的IM软件，比如智能手机的推送通知以及夺命连环Call，而比较合理的算是邮件异步离线的通讯方式。这些你为所欲为的，自认为是无关紧要的小小的信号，都会可能引起对方当前工作的中断，致使对方的工作流遭到破坏，造成不必要的工作效率的下降。当然，如果你认为事情非常紧急，也就是有绝对的优先级，也不是不可以使用即时通讯，比如给对方疯狂地打Call。



就像圈养在养殖场的猪圈中的肉猪一样，那些被圈在开放的办公场所的程序猿（又称码农、码畜），有时候也需要用音乐熏陶一下。其最直接的好处就是让程序猿与当前这个嘈杂的环境隔离，通过一个个跳动的音符，构建属于程序猿自己的孤独世界，以至于达到心流状态，从而可以专心应付各种大小不一，千奇百怪的砖块。



就如激素中的胰岛素和肾上腺素可以调节血糖一样，音乐也可以调节情绪。不同的音乐会产生不同的功效，音乐可以使人狂躁，音乐也可以使人宁静。因此，在睡眠障碍的环境下，也可以试着用音乐放松自己，而不是只能依赖古老传说中的数羊的方式，让自己安然入睡。



因为这个周末，台风利奇马花了一年的积蓄，漂洋过海来追寻去年的安比，本来只是想分享一段30分钟的音乐，一不留神就胡乱瞎扯了一通。下面以梁实秋的语录做个结尾，也祝愿利奇马早日追上早已消散的安比。



一个人大声说话，是本能；小声说话是文明。

— 梁实秋
